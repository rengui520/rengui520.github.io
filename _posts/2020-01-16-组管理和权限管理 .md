---
title:  组管理和权限管理 
date:   2020-01-16 12:00:00
tag:    Linux
---

## 组管理和权限管理  

***
> 版权声明：本文为 {{ site.name }} 原创文章，可以随意转载，但必须在明确位置注明出处！

<head><link rel="stylesheet" href="../css/rouge.css"></head>

 
### Linux 组基本介绍    
在 Linux 中的每个用户必须属于一个组，不能独立于组外。在 Linux 中每个文件
有所有者、所在组、其它组的概念。  

组的创建基本指令: `groupadd 组名`

一) 所有者   
一般为文件的创建者,谁创建了该文件，就自然的成为该文件的所有者。  

1.查看文件的所有者   
指令：`ls –ahl`

应用实例 :创建一个组 police ,再创建一个用户 tom,将 tom 放在 police 组 ,然后使用 tom 来创建一个文件 ok.txt，看看情况如何
```
groupadd police  //创建 police 组。
useradd -g police tom  //把 tom 归到 police 组
passwd tom  //指定密码
touch ok.txt   //以 tom 用户登录 Linux，创建一个文件
ls -ahl  //查看文件的所有者
```

2.修改文件所有者    
指令：`chown 用户名 文件名`   

应用案例   
要求：使用 root 创建一个文件 apple.txt ，然后将其所有者修改成 tom   
```
su  //登录 root
touch apple.txt   //以 root 用户创建文件
ls -l  //查看
chown tom apple.txt  //修改文件所有者
ls -l 
```

二) 所在组     
当某个用户创建了一个文件后，默认情况下，这个文件的所在组就是该用户所在的组。    

1.查看文件/目录所在组    
基本指令 ：`ls –ahl`    

2.修改文件所在的组   
基本指令：`chgrp 组名 文件名`    

应用实例    
使用 root 用户创建文件 orange.txt ,看看当前这个文件属于哪个组（root），然后将这个文件所在组，修改到 police 组。    
```
su
touch orange.txt
ls -l
chgrp police orange.txt
ls -l
```

三) 其它组   
除文件的所有者和所在组的用户外，系统的其它用户都是文件的其它组。    

四) 改变用户所在的组   
在添加用户时，可以指定将该用户添加到哪个组中，同样的用 `root` 的管理权限可以改变某个用户所在的组。

1.改变用户所在组
 1) `usermod  –g 组名 用户名`
 2) `usermod  –d  目录名 用户名`  //改变该用户登陆的初始目录

应用实例
创建一个土匪组（bandit）将 tom 这个用户从原来所在的 police 组，修改到 bandit (土匪) 组
`Usermod  -g  bandit  tom`


### 权限管理
权限的基本介绍
`ls  -l` 中显示的内容如下：
-rwxrw-r-- 1 root police 1213 Feb 2 09:39 abc.txt
```
0-9 位说明
第 0 位确定`文件类型`：(说明: -:普通文件, d:目录，l : 连接文件, c: 字符设备文件(键盘,鼠标) b: 块设备文件(硬盘) )
第 1-3 位确定所有者（该文件的所有者）拥有该文件的权限。R: 读 ， w : 写权限 x:  执行权限  
第 4-6 位确定所属组（同用户组的）拥有该文件的权限
第 7-9 位确定其他用户拥有该文件的权限 

1: 如果是文件，表示硬链接的数目， 如果是目录，则表示有多少个子目录
1213： 表示文件大小，如果是目录，则统一为 4096
Feb 2 09:39 :文件最后修改时间
```

rwx 权限详解
rwx 作用到文件(重要)
1) [ r ]代表可读(read): 可以读取,查看
2) [ w ]代表可写(write): 可以修改,但是不代表可以删除该文件,删除一个文件的前提条件是对该文件所在的目录有写权限，才能删除该文件.
3) [ x ]代表可执行(execute):可以被执行  

rwx作用到目录(重要)
1) [ r ]代表可读(read): 可以读取，ls查看目录内容
2) [ w ]代表可写(write): 可以修改,目录内创建 + 删除 + 重命名目录
3) [ x ]代表可执行(execute):可以进入该目录  

