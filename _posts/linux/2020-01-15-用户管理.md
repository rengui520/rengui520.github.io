---
title:  用户管理
date:   2020-01-15 12:00:00
tag:    Linux
---

# 用户管理

***
> 版权声明：本文为 {{ site.name }} 原创文章，可以随意转载，但必须在明确位置注明出处！

<head><link rel="stylesheet" href="../css/rouge.css"></head>
  
## 一、添加用户
### 1.  
①自动的创建和用户同名的家目录 xxx `useradd xxx`  ② 新创建的用户指定家目录 `useradd -d 家目录 用户名`    

### 2.指定/修改密码   
`passwd 用户名`  // 如果没有带用户名，则是给当前登录的用户修改密码   

## 二、删除用户 
1.  
① 删除用户，但是要保留家目录 `userdel 用户名`  常用该命令     
② 删除用户以及用户家目录 `userdel –r 用户名`    

## 三、查询用户信息   
`id root`  返回 `uid=0(root) gid=0(root) groups=0(root)`    
//uid 表示用户 id 号；gid：所在组的 id 号；groups：组名      

## 四、切换用户   
`su - 切换用户名`    比如切换到高权限用户 root  `su - root`   
1。从权限高的用户切换到权限低的用户，不需要输入密码，反之需要。   
2。当需要返回到原来用户时，使用 `exit` 指令      
3。如果 `su –` 没有带用户名，则默认切换到root用户  

查看当前用户/登录用户： `whoami`      

## 五、用户组    
类似于角色，系统可以对有共性的多个用户进行统一的管理。    
### 1。新增组    
`groupadd 组名`    

### 2。删除组   
`groupdel 组名`   

### 3。增加用户时直接加上组    
`useradd  –g 用户组 用户名`   

### 4。修改用户的组   
`usermod  –g 新的组名 用户名`   

## 六、用户和组的相关文件   
### 1.`/etc/passwd` 文件    
	用户（user）的配置文件，记录用户的各种信息   
    每行的含义：用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录Shell    

### 2.`/etc/shadow` 文件   
	口令的配置文件   
    每行的含义：登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:保留    

### 3.`/etc/group` 文件   
	组(group)的配置文件，记录Linux包含的组的信息   
    每行含义：组名:口令:组标识号:组内用户列表 